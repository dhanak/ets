<%doc> This is a -*- mason -*- template.
This page selects a new exercise and produces it.

EITHER the category ID (or a list of category IDs) is passed in the 'category'
       argument, in this case, the exercise is selected randomly;
OR     the exercise ID is passed in the 'exid' argument.

EXACTLY one of these arguments should be specified.
</%doc>

<%args>
$category => undef
$exid => undef
</%args>

<& html_page &>

<%init>;
if (defined $category && !defined $exid) {
    $data->{SCREEN} = "do_exercise";
    delete $data->{EXID};
    $data->{CATEGORY} = $category;
    $m->comp('/sub/select_exercise');
} elsif (defined $exid && !defined $category) {
    $data->{SCREEN} = "do_exercise";
    delete $data->{CATEGORY};
    $data->{EXID} = $exid;
} else {
    $data->{MSG} = "Programhiba: hib√°s argumentumok.";
}
</%init>
